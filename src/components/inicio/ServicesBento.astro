---
import { cn } from '../../lib/utils';

const services = [
  {
    icon: 'users',
    name: 'CRM + Email Marketing',
    description: 'Gestiona clientes y automatiza campanas con Brevo. Contactos ilimitados.',
    size: 'large',
    color: 'from-blue-500/20 to-blue-600/5',
    image: '/images/services/ecommerce.webp',
  },
  {
    icon: 'globe',
    name: 'Web o Tienda Online',
    description: 'WordPress gestionado con diseno profesional y optimizacion SEO.',
    size: 'large',
    color: 'from-green-500/20 to-green-600/5',
    image: '/images/services/web-apps.webp',
  },
  {
    icon: 'file-text',
    name: 'ERP + Verifactu',
    description: 'Facturacion electronica, inventario, TPV y contabilidad integrada.',
    size: 'medium',
    color: 'from-orange-500/20 to-orange-600/5',
  },
  {
    icon: 'clock',
    name: 'Control de Fichajes',
    description: 'Registro horario con geolocalizacion. Cumple la ley.',
    size: 'medium',
    color: 'from-purple-500/20 to-purple-600/5',
  },
  {
    icon: 'bot',
    name: 'Chatbot IA',
    description: 'Atencion 24/7 con IA entrenada en tu negocio.',
    size: 'medium',
    color: 'from-cyan-500/20 to-cyan-600/5',
  },
  {
    icon: 'palette',
    name: 'Canva Pro',
    description: 'Disena como un profesional. Licencia completa incluida.',
    size: 'medium',
    color: 'from-pink-500/20 to-pink-600/5',
  },
  {
    icon: 'graduation',
    name: 'Formacion Continua',
    description: 'Videotutoriales y sesiones en directo para sacar el maximo partido.',
    size: 'large',
    color: 'from-yellow-500/20 to-yellow-600/5',
    image: '/images/services/digital-services.webp',
  },
  {
    icon: 'server',
    name: 'Hosting + Correo',
    description: 'Dominio, hosting premium y 50GB para emails profesionales.',
    size: 'large',
    color: 'from-indigo-500/20 to-indigo-600/5',
    image: '/images/services/infrastructure.webp',
  },
];
---

<section class="py-16 md:py-24">
  <div class="container mx-auto px-4">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <p class="text-sm font-medium text-primary uppercase tracking-wider mb-3">
        Todo Incluido
      </p>
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        8 herramientas.{' '}
        <span class="text-gradient">Una sola factura.</span>
      </h2>
      <p class="text-muted-foreground max-w-2xl mx-auto">
        Cada servicio esta integrado y funciona en conjunto. Sin configurar APIs, sin dolores de cabeza.
      </p>
    </div>

    <!-- Bento Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 max-w-6xl mx-auto">
      {services.map((service, index) => {
        const isLarge = service.size === 'large';
        const hasImage = service.image;
        return (
          <div
            class={cn(
              'group relative rounded-2xl overflow-hidden',
              'bg-card border border-border/50',
              'hover:border-primary/30 hover:shadow-xl hover:shadow-primary/5',
              'transition-all duration-300',
              'bento-item',
              isLarge ? 'lg:col-span-2' : '',
              hasImage ? 'flex flex-col md:flex-row min-h-[200px]' : 'p-6'
            )}
            style={`animation-delay: ${index * 75}ms`}
          >
            <!-- Image for large cards -->
            {hasImage && (
              <div class="relative w-full md:w-2/5 h-40 md:h-auto overflow-hidden">
                <img
                  src={service.image}
                  alt={service.name}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                />
                <div class="absolute inset-0 bg-gradient-to-r from-transparent to-card/80 hidden md:block" />
                <div class="absolute inset-0 bg-gradient-to-t from-card to-transparent md:hidden" />
              </div>
            )}

            <!-- Gradient Background -->
            <div
              class={cn(
                'absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300',
                `bg-gradient-to-br ${service.color}`,
                hasImage ? 'hidden md:block' : ''
              )}
            />

            <!-- Content -->
            <div class={cn('relative z-10', hasImage ? 'flex-1 p-6 flex flex-col justify-center' : '')}>
              <!-- Icon -->
              <div class="w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                {service.icon === 'users' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                  </svg>
                )}
                {service.icon === 'globe' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" /><line x1="2" y1="12" x2="22" y2="12" /><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" />
                  </svg>
                )}
                {service.icon === 'file-text' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" /><polyline points="14,2 14,8 20,8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><polyline points="10,9 9,9 8,9" />
                  </svg>
                )}
                {service.icon === 'clock' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" />
                  </svg>
                )}
                {service.icon === 'bot' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="10" rx="2" /><circle cx="12" cy="5" r="2" /><path d="M12 7v4" /><line x1="8" y1="16" x2="8" y2="16" /><line x1="16" y1="16" x2="16" y2="16" />
                  </svg>
                )}
                {service.icon === 'palette' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <circle cx="13.5" cy="6.5" r="0.5" fill="currentColor" /><circle cx="17.5" cy="10.5" r="0.5" fill="currentColor" /><circle cx="8.5" cy="7.5" r="0.5" fill="currentColor" /><circle cx="6.5" cy="12.5" r="0.5" fill="currentColor" /><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 011.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z" />
                  </svg>
                )}
                {service.icon === 'graduation' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M22 10v6M2 10l10-5 10 5-10 5z" /><path d="M6 12v5c3 3 9 3 12 0v-5" />
                  </svg>
                )}
                {service.icon === 'server' && (
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="2" width="20" height="8" rx="2" ry="2" /><rect x="2" y="14" width="20" height="8" rx="2" ry="2" /><line x1="6" y1="6" x2="6.01" y2="6" /><line x1="6" y1="18" x2="6.01" y2="18" />
                  </svg>
                )}
              </div>

              <!-- Text -->
              <h3 class="text-lg font-bold mb-2">{service.name}</h3>
              <p class="text-sm text-muted-foreground">{service.description}</p>
            </div>

            <!-- Decorative corner -->
            <div class="absolute -bottom-8 -right-8 w-24 h-24 bg-primary/5 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
          </div>
        );
      })}
    </div>
  </div>
</section>
